As you can see from the compilation results of serpack, you can see about 5 lines of definitions and other additional code to run.

You can hide this additional code using the `runtime`.

<Tabs>
<TabItem id="CLI">
```bash
npx serpack ./src/index.ts --runtime
```

</TabItem>
<TabItem id="JavaScript">

```ts
import { compile } from 'serpack';

compile('src/index.ts', { runtime: true });
```

</TabItem>
<TabItem id="zely-cli">

```bash
npx zely dev --serpack --serpack-runtime
```

</TabItem>
</Tabs>

## Output

- target: [Example code in `/serpack/compile`](/serpack/compile)

<Tabs>
<TabItem id="Enable runtime">
```ts
(function (modules) {
  const __serpack_require__ = require("serpack/runtime").createRequire(modules);
  module.exports = __serpack_require__("sp:0");
})({
  /*[0]src\index.ts*/ 0: (
    __serpack_require__,
    __non_serpack_require__,
    module,
    exports
  ) => {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: !0 }),
      console.log((0, __serpack_require__("sp:1").sum)(1, 2));
  },
  /*[1]lib\sum.ts*/ 1: (
    __serpack_require__,
    __non_serpack_require__,
    module,
    exports
  ) => {
    "use strict";
    function e(e, t) {
      return e + t;
    }
    Object.defineProperty(exports, "__esModule", { value: !0 }),
      Object.defineProperty(exports, "sum", {
        enumerable: !0,
        get: function () {
          return e;
        },
      });
  },
});
```

</TabItem>
<TabItem id="Disable runtime">

```ts
(function (modules) {
  var __serpack_module_cache__ = {};
  function __serpack_require__(id) {
    if (!id.startsWith('sp:')) return require(id);
    if (__serpack_module_cache__[id.slice(3)])
      return __serpack_module_cache__[id.slice(3)];
    const module = { exports: {} };
    modules[id.slice(3)].call(
      module.exports,
      __serpack_require__,
      require,
      module,
      module.exports,
    );
    __serpack_module_cache__[id.slice(3)] = module.exports;
    return module.exports;
  }
  module.exports = __serpack_require__('sp:0');
})({
  /*[0]src\index.ts*/ 0: (
    __serpack_require__,
    __non_serpack_require__,
    module,
    exports,
  ) => {
    'use strict';
    Object.defineProperty(exports, '__esModule', { value: !0 }),
      console.log((0, __serpack_require__('sp:1').sum)(1, 2));
  },
  /*[1]lib\sum.ts*/ 1: (
    __serpack_require__,
    __non_serpack_require__,
    module,
    exports,
  ) => {
    'use strict';
    function e(e, t) {
      return e + t;
    }
    Object.defineProperty(exports, '__esModule', { value: !0 }),
      Object.defineProperty(exports, 'sum', {
        enumerable: !0,
        get: function () {
          return e;
        },
      });
  },
});
```

</TabItem>
</Tabs>

## Size Reduction

- target: [@playground/typescript/pages/index.ts](https://github.com/zely-js/zely/tree/zely4/playground/typescript)

<Tabs>
<TabItem id="Enable runtime">
```txt
553 KB
```

</TabItem>
<TabItem id="Disable runtime">

```txt
914 KB
```

</TabItem>
</Tabs>

Size reduced by **60%**.

## Troubleshooting

### Error: Cannot find module '@swc/helpers'

This error occurs because the `@swc/helpers` package is damaged or missing.

```bash
npm i --save-dev @swc/helpers
```
