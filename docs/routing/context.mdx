Starting from v2, the parameter `context` is provided instead of `req` and `res` in handlers exported by default.

> Note: The context function is only supported in `export default`.
>
> Just `export` will no longer be updated and only `export default` will be updated intensively.

```ts
export default [(ctx) => {}];
```

## `context.`

| Property/Method    | Description                                                                       | Same              |
| ------------------ | --------------------------------------------------------------------------------- | ----------------- |
| `context.status`   | Set HTTP status code                                                              | `res.status`      |
| `context.headers`  | Set HTTP headers                                                                  | `res.headers`     |
| `context.body`     | [Request Body (Provided with midddleware)](/docs/provided-middlewares#parse-body) | -                 |
| `context.params`   | Route parameters                                                                  | `res.params`      |
| `context.query`    | Query string parameters                                                           | `res.query`       |
| **Methods**        |                                                                                   |                   |
| `context.send()`   | Send a response                                                                   | `res.end()`       |
| `context.header()` | Set a specific header                                                             | `res.setHeader()` |
| `context.html()`   | Send an HTML response                                                             | -                 |
| `context.json()`   | Send a JSON response                                                              | `res.json()`      |
| `context.text()`   | Send a plain text response                                                        | `res.text()`      |

## Request and response

```ts
export default [
  (ctx) => {
    ctx.request; // request
    ctx.response; // response
  },
];
```

## Migration

```diff
export default [
-  (req, res) => {
+  (ctx) => {
-    res.end("Hello World!");
+    ctx.send("Hello World!");
  },
];
```

## Reference

> Reference: [/server/context.ts](https://github.com/zely-js/zely/blob/main/packages/zely/src/server/context.ts)  
> Reference: [/types/core.d.ts](https://github.com/zely-js/zely/blob/main/packages/zely/types/core.d.ts#L51)
